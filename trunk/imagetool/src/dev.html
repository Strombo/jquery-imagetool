<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title>Imagetool demo</title>
	<meta name="generator" content="BBEdit 8.2" />
	<script src="../jquery/jquery-1.3.2.min.js" type="text/javascript"></script>
	<script src="../jquery/jquery-ui-1.7.2.custom.min.js" type="text/javascript"></script>
	<script src="jquery.ui.imagetool.js" type="text/javascript"></script>
    
    <script type="text/javascript">
      $(function() {
        $("img.a").imagetool({
          loading: "load.gif"
         ,imageWidth: 900
         ,imageHeight: 675
         ,viewportWidth: 400
         ,viewportHeight: 300
         ,zoom: function(event, ui) {
         	console.log("Triggering zoom" + ui.width + " " + ui.height);
           }
          
         ,pan: function(event, ui) {
        	console.log("Triggering pan: " + ui.cropX + " " + ui.cropY  +" "+ ui.cropW + " " + ui.cropW);
          }
         ,resize: function(event, ui) {
          console.log("Triggering resize: " + ui.width + " " + ui.height);
          }
         
        });

        $("input[name=preview]").click(function() {
        	//$("img.a").imagetool('option', 'src', 'portrait.jpg');
        	//$("img.a").imagetool('update', {src:'portrait.jpg', imageWidth: 750, imageHeight: 1000});
        	$("img.a").imagetool('update', {src:'grid.png', imageWidth: 500, imageHeight: 500});
        	//alert($("img.a").imagetool("option", "imageWidth"));
        });

        $("input[name=move]").click(function() {
        	$("img.a").imagetool('option', 'x', 0.04);
        	$("img.a").imagetool('option', 'y', 0.04);
        	//alert($("img.a").imagetool("option", "imageWidth"));
        });

        $("input[name=data]").click(function() {
        	var dim = $("img.a").imagetool('dimensions');
        	console.dir(dim);
        });

        /*
        $("img.b").imagetool({
          loading: "load.gif"
          	,allowZoom: false
            ,allowPan: false
         ,imageWidth: 800
         ,imageHeight: 533
         ,viewportWidth: 400
         ,viewportHeight: 300
        });
        */
      });
    </script>
  </head>
  <body>
  	<img class="a" src="plane.jpg" />
    
    <input type="button" name="preview" value="Swap"/>
    <input type="button" name="data" value="Data"/>
    <input type="button" name="move" value="Move"/>
    
    <!-- 
    <img class="a" src="http://homepage.mac.com/bendik/imagetool/demo/image.jpg" />
    <img class="b" src="image.jpg" />
     -->
  </body>
</html>
